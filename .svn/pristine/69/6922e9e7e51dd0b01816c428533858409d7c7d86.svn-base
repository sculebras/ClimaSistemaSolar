using MultiTenancyAdministrator.Component.DAL.Context;
using MultiTenancyAdministrator.Component.Repositories;
using SF.Core;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using MultiTenancyAdministrator.Component.Model;

namespace MultiTenancyAdministrator.Component
{
    public class UOWMultitenancy : UnitOfWork
    {
        private ConnectionRepository _ConnectionRepository;
        private ConfigurationRepository _ConfigurationRepository;
        
        #region PROPERTIES
        /// <summary>
        /// Repository of Connection Entity
        /// </summary>
        public ConnectionRepository ConnectionRepository
        {
            get
            {
                if (this._ConnectionRepository == null)
                {
                    this._ConnectionRepository = new ConnectionRepository(base.Context);
                }
                return this._ConnectionRepository;
            }
        }
        /// <summary>
        /// Repository of Connection Entity
        /// </summary>
        public ConfigurationRepository ConfigurationRepository
        {
            get
            {
                if (this._ConfigurationRepository == null)
                {
                    this._ConfigurationRepository = new ConfigurationRepository(base.Context);
                }
                return this._ConfigurationRepository;
            }
        } 
        #endregion //PROPERTIES
                
        /// <summary>
        /// Constructor
        /// </summary>
        public UOWMultitenancy()
        {
            base.Context = new ModelContext();
        }

    }//End class
}//End Namespace				
